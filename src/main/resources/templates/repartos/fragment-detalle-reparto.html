<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
	<div th:fragment="detallesReparto">
		<div class="row h-50">
			<div class="col-12 pl-0 pt-2">
				<!-- 				<input type="text" width="200" id="myModalParam" th:name="myModalParam" th:value="${backString}" /> -->
				<div class="table-wrapper-scroll-detalle-y">
					<table th:id="'listaDetalles'" th:if="${not #lists.isEmpty(reparto.detalles)}"
						class="table table-striped table-hover mx-auto">
						<thead >
							<tr>
								<th th:text="#{text.reparto.detalle.id}"></th>
								<th th:text="#{text.reparto.detalle.cliente.codigo}"></th>
								<th th:text="#{text.reparto.detalle.cliente.nombre}"></th>
								<th th:text="#{text.reparto.detalle.pedido}"></th>
								<th th:text="#{text.reparto.detalle.pedido.peso}"></th>
								<th th:text="#{text.reparto.detalle.entrega}"></th>
								<th th:text="#{text.reparto.detalle.entrega.peso}"></th>
								<th th:text="#{text.reparto.detalle.hora_descarga}"></th>
								<th th:text="#{text.reparto.detalle.fotos}"></th>
								<th th:text="#{text.reparto.detalle.comentario_descarga}"></th>
							</tr>
						</thead>
						<tbody>
							<tr th:id="'row_'+${detalle.id}" th:each="detalle: ${reparto.detalles}">
								<td th:text="${detalle.id}"></td>
								<td th:text="${detalle.cliente.codigo}"></td>
								<td th:text="${detalle.cliente.nombre}" class="custom-left-aligment"></td>
								<td th:text="${detalle.note}"></td>
								<td th:text="${detalle.peso}"></td>
								<td th:text="${detalle.entrega}"></td>
								<td th:text="${detalle.pesoEntrega}"></td>
								<td th:text="${#dates.format(detalle.horaDescarga, 'dd-MM-yyyy HH:mm:ss')}"></td>
								<td><a id="openBttn" data-toggle="modal" th:if="${detalle.fotos != 0}"
									th:onclick="'javascript:viewFotos(\'' + ${detalle.fotos} +'\');'"
									class="btn btn-success btn-sm" th:text="${detalle.fotos}"> </a></td><!--originalmente detalle.id-->
								<td th:text="${detalle.commentBack}" class="custom-left-aligment"></td>
							</tr>
						</tbody>

					</table>
				</div>
				<input type="hidden" id="jsonMap" name="jsonMap" th:value="${jsonMap}" />
			</div>
		</div>

		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="card-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					</div>
					<div class="card-body">
						<div id="fotosCarousel" class="carousel slide" data-ride="carousel">
							<!-- Indicators -->
							<ol class="carousel-indicators">
							</ol>
							<!-- Wrapper for slides -->
							<div class="carousel-inner" role="listbox"></div>
							<!-- Controls -->
							<a class="carousel-control-prev" href="#fotosCarousel" role="button" data-slide="prev"> <span
								class="carousel-control-prev-icon" aria-hidden="true"></span> <span class="sr-only">Previous</span>
							</a> <a class="carousel-control-next" href="#fotosCarousel" role="button" data-slide="next">
								<span class="carousel-control-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span>
							</a>
						</div>
					</div>
					<div class="card-footer">
						<a href="#" data-dismiss="modal" class="btn btn-warning">Close</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
